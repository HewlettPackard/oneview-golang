{
  "name": "EGSL_HOUSTB200_LAB",
  "cases": [
    {
      "name": "default",
      "enabled": true,
      "test_data": {
        "ServerJSONString" : "{ \"architecture\": \"UNKNOWN\", \"category\": \"os-deployment-servers\", \"cpus\": [ { \"cacheSize\": \"10240\", \"family\": \"X64\", \"model\": \"Genuine Intel(R) CPU @ 1.80GHz\", \"slot\": \"0\", \"speed\": \"1795\", \"status\": \"ON-LINE\", \"stepping\": \"2\" } ], \"created\": \"2014-09-29T16:12:51.000Z\", \"customAttributes\": [ { \"key\": \"__OPSW_next_device_group_recalc_time\", \"values\": [ { \"scope\": \"facility\", \"value\": \"1412012497.24\" } ] }, { \"key\": \"__OPSW_initial_discovery_name\", \"values\": [ { \"scope\": \"server\", \"value\": \"CN12345678\" } ] }, { \"key\": \"__OPSW_slice_ips\", \"values\": [ { \"scope\": \"facility\", \"value\": \" 1:192.0.2.0 \" } ] }, { \"key\": \"__OPSW-Media-WinPassword\", \"values\": [ { \"scope\": \"facility\", \"value\": \"server\" } ] }, { \"key\": \"__OPSW-Media-LinURI\", \"values\": [ { \"scope\": \"facility\", \"value\": \"http://192.0.2.0/deploy\" } ] }, { \"key\": \"__OPSW_apx_gc_next_run_time\", \"values\": [ { \"scope\": \"facility\", \"value\": \"1412034913690\" } ] }, { \"key\": \"__OPSW-Media-WinUser\", \"values\": [ { \"scope\": \"facility\", \"value\": \"smb://media:\" } ] }, { \"key\": \"ProductKey_Win2008R2-Std-x64\", \"values\": [ { \"scope\": \"facility\", \"value\": \"ABCDE-FGHIJ-KLMNO-PQRST-UVWXY\" } ] }, { \"key\": \"__OPSW-Media-WinPath\", \"values\": [ { \"scope\": \"facility\", \"value\": \"@192.0.2.0/deploy\" } ] }, { \"key\": \"device_discovery_naming_rules\", \"values\": [ { \"scope\": \"facility\", \"value\": \".*ProLiant BL.*::={server_location[rack]}-{server_location[enclosure]}-{server_location[bay]}.*::={serial_num}\" } ] }, { \"key\": \"__OPSWpxeboot_default\", \"values\": [ { \"scope\": \"facility\", \"value\": \"linux6-64-ogfs\" } ] }, { \"key\": \"skip_reboot\", \"values\": [ { \"scope\": \"server\", \"value\": \"yes\" } ] } ], \"defaultGateway\": \"192.0.2.0\", \"description\": null, \"deviceGroups\": null, \"discoveredDate\": \"2014-09-29T16:12:51.000Z\", \"eTag\": \"2014-09-29T16:21:44.541Z\", \"facility\": \"Appliance\", \"hardwareModel\": \"PROLIANT DL360E GEN8\", \"hostName\": \"ezsetupsystem441ea159b27c\", \"ilo\": { \"category\": null, \"created\": \"2014-09-29T16:12:53.000Z\", \"description\": \"\", \"eTag\": \"2014-09-29T16:12:54.000Z\", \"healthStatus\": \"\", \"ipAddress\": \"192.0.2.0\", \"modified\": \"2014-09-29T16:12:54.000Z\", \"name\": \"ILO Service 192.0.2.0\", \"password\": \"\", \"port\": 443, \"resourceStatus\": \"\", \"server\": \"CN12345618\", \"state\": null, \"status\": null, \"type\": \"OSDIlo\", \"uri\": \"20001\", \"username\": \"Administrator\" }, \"interfaces\": [ { \"dhcpEnabled\": false, \"duplex\": \"FULL\", \"ipv4Addr\": \"10.1.1.197\", \"ipv6Addr\": \"\", \"macAddr\": \"00:53:00:59:B2:7D\", \"netmask\": \"255.255.0.0\", \"slot\": \"eth1\", \"speed\": \"1000\", \"type\": \"ETHERNET\" }, { \"dhcpEnabled\": false, \"duplex\": null, \"ipv4Addr\": null, \"ipv6Addr\": \"\", \"macAddr\": \"00:53:00:59:B2:7E\", \"netmask\": null, \"slot\": \"eth2\", \"speed\": null, \"type\": \"ETHERNET\" }, { \"dhcpEnabled\": false, \"duplex\": null, \"ipv4Addr\": null, \"ipv6Addr\": \"\", \"macAddr\": \"00:53:00:59:B2:7C\", \"netmask\": null, \"slot\": \"eth0\", \"speed\": null, \"type\": \"ETHERNET\" }, { \"dhcpEnabled\": false, \"duplex\": null, \"ipv4Addr\": null, \"ipv6Addr\": \"\", \"macAddr\": \"00:53:00:59:B2:7F\", \"netmask\": null, \"slot\": \"eth3\", \"speed\": null, \"type\": \"ETHERNET\" } ], \"jobsHistory\": [ { \"description\": null, \"endDate\": \"2014-09-29T16:21:42.000Z\", \"initiator\": \"april\", \"name\": \"ProLiant HW - Boot Linux Service OS\", \"nameOfJobType\": \"ProLiant HW - Boot Linux Service OS\", \"startDate\": \"2014-09-29T16:13:01.000Z\", \"uri\": \"/rest/os-deployment-jobs/{jobId}\", \"uriOfJobType\": \"/rest/os-deployment-build-plans/{buildPlanId}\" } ], \"lastScannedDate\": null, \"locale\": null, \"loopbackIP\": null, \"managementIP\": \"10.1.1.197\", \"manufacturer\": \"HP\", \"mid\": \"40001\", \"modified\": \"2014-09-29T16:21:44.541Z\", \"name\": \"CN12345678\", \"netBios\": null, \"operatingSystem\": \"Unknown\", \"operatingSystemVersion\": null, \"opswLifecycle\": \"PRE_UNPROVISIONED\", \"osFlavor\": null, \"osSPVersion\": null, \"peerIP\": \"192.0.2.0\", \"ram\": \"8021696\", \"reporting\": true, \"running\": \"false\", \"serialNumber\": \"CN12345678\", \"serverLocation\": { \"bay\": null, \"enclosure\": null, \"rack\": null }, \"stage\": \"UNKNOWN\", \"state\": \"MAINTENANCE\", \"status\": \"Disabled\", \"storageDevices\": [ { \"capacity\": 1073741824, \"deviceName\": \"sda\", \"mediaType\": \"SCSI DISK\", \"model\": \"UNKNOWN\", \"vendor\": null }, { \"capacity\": 268435456, \"deviceName\": \"sdb\", \"mediaType\": \"SCSI DISK\", \"model\": \"UNKNOWN\", \"vendor\": null }, { \"capacity\": 1073741824, \"deviceName\": \"sdc\", \"mediaType\": \"SCSI DISK\", \"model\": \"UNKNOWN\", \"vendor\": null }, { \"capacity\": 146778619904, \"deviceName\": \"sdd\", \"mediaType\": \"SCSI DISK\", \"model\": \"HP B320i\", \"vendor\": null } ], \"swap\": \"0\", \"type\": \"OSDServer\", \"uri\": \"/rest/os-deployment-servers/{serverId}\", \"uuid\": \"12345678-1234-123a-1234-0123456789000\"}",
        "ServerMacAddr" : "00:53:00:59:B2:7D",
        "KeyTest1" : "__OPSW_initial_discovery_name",
        "ScopeTest1" : "server",
        "KeyTest2Existing" : "__OPSW_next_device_group_recalc_time",
        "ScopeTest2Existing" : "facility",
        "ValueTest2ExistingNew" : "999999",
        "KeyTest3New" : "docker_user",
        "ScopeTest3New" : "server",
        "ValueTest3New" : "docker",
        "JobURIJSONString" : "{ \"uri\" : \"/rest/os-deployment-jobs/99999\"}",
        "DeploymentJobsJSON" : "{ \"osbpUris\": [ \"/rest/os-deployment-build-plans/{buildplanId}\" ], \"failMode\": null, \"serverData\": [ { \"serverUri\": \"/rest/os-deployment-servers/{serverId}\", \"skipReboot\": true, \"personalityData\": { \"hostname\": \"hstnmpre1\", \"domain\": \"test.domain.com\", \"workgroup\": \"workgroupname\", \"interfaces\": [ { \"macAddress\": \"C8:CB:B8:D0:B6:C6\", \"enabled\": true, \"dhcpv4\": true, \"ipv6Autoconfig\": true, \"provisioning\": true, \"dnsServers\": [ \"192.168.0.30\", \"192.168.0.31\", \"FC00:2::30\", \"FC00:2::31\" ], \"winsServers\": [ \"192.168.0.34\" ], \"dnsSearch\": [ \"test.domain.com\", \"domain.com\" ], \"staticNetworks\": [], \"vlanid\": 2, \"ipv4gateway\": \"192.168.0.1\", \"ipv6gateway\": \"FC00:2::1\" }, { \"macAddress\": \"C8:CB:B8:D0:B6:C7\", \"enabled\": true, \"dhcpv4\": true, \"ipv6Autoconfig\": null, \"provisioning\": false, \"dnsServers\": null, \"winsServers\": null, \"dnsSearch\": null, \"staticNetworks\": [], \"vlanid\": 2, \"ipv4gateway\": null, \"ipv6gateway\": null } ], \"virtualInterfaces\": [] } }, { \"serverUri\": \"/rest/os-deployment-servers/{serverId}\", \"skipReboot\": true, \"personalityData\": { \"hostname\": \"hstnmpre1\", \"domain\": \"test.domain.com\", \"workgroup\": \"workgroupname\", \"interfaces\": [ { \"macAddress\": \"C8:CB:B8:D0:B6:C8\", \"enabled\": true, \"dhcpv4\": true, \"ipv6Autoconfig\": true, \"provisioning\": true, \"dnsServers\": [ \"192.168.0.30\", \"192.168.0.31\", \"FC00:2::30\", \"FC00:2::31\" ], \"winsServers\": [ \"192.168.0.34\" ], \"dnsSearch\": [ \"test.domain.com\", \"domain.com\" ], \"staticNetworks\": [], \"vlanid\": 2, \"ipv4gateway\": \"192.168.0.1\", \"ipv6gateway\": \"FC00:2::1\" }, { \"macAddress\": \"C8:CB:B8:D0:B6:C9\", \"enabled\": true, \"dhcpv4\": true, \"ipv6Autoconfig\": true, \"provisioning\": false, \"dnsServers\": [ \"192.168.0.30\", \"192.168.0.31\", \"FC00:2::30\", \"FC00:2::31\" ], \"winsServers\":  [ \"192.168.0.34\" ], \"dnsSearch\": [ \"test.domain.com\", \"domain.com\" ], \"staticNetworks\": [], \"vlanid\": 2, \"ipv4gateway\": \"192.168.0.1\", \"ipv6gateway\": \"FC00:2::1\" } ], \"virtualInterfaces\": [] } } ] }",
        "OSDPersonalizeServerDataV2JSON":"{ \"serverUri\": \"/rest/os-deployment-servers/serverId\", \"skipReboot\": true, \"personalityData\": { \"hostname\": \"hstnmpre1\", \"domain\": \"test.domain.com\", \"workgroup\": \"workgroupname\", \"interfaces\": [ { \"macAddress\": \"C8:CB:B8:D0:B6:C6\", \"enabled\": true, \"dhcpv4\": true, \"ipv6Autoconfig\": true, \"provisioning\": true, \"dnsServers\": [ \"192.168.0.30\", \"192.168.0.31\", \"FC00:2::30\", \"FC00:2::31\" ], \"winsServers\": [ \"192.168.0.34\" ], \"dnsSearch\": [ \"test.domain.com\", \"domain.com\" ], \"staticNetworks\": [], \"vlanid\": 2, \"ipv4gateway\": \"192.168.0.1\", \"ipv6gateway\": \"FC00:2::1\" }, { \"macAddress\": \"C8:CB:B8:D0:B6:C7\", \"enabled\": true, \"dhcpv4\": true, \"ipv6Autoconfig\": null, \"provisioning\": false, \"dnsServers\": null, \"winsServers\": null, \"dnsSearch\": null, \"staticNetworks\": [], \"vlanid\": 2, \"ipv4gateway\": null, \"ipv6gateway\": null } ], \"virtualInterfaces\": [] } }",
        "OSDPersonalizeServerDataV2JSON2":"{ \"serverUri\": \"/rest/os-deployment-servers/serverId\", \"skipReboot\": true  }",
        "OSDPersonalityDataV2JSON":"{ \"personalityData\": { \"hostname\": \"hstnmpre1\", \"domain\": \"test.domain.com\", \"workgroup\": \"workgroupname\", \"interfaces\": [ { \"macAddress\": \"C8:CB:B8:D0:B6:C6\", \"enabled\": true, \"dhcpv4\": true, \"ipv6Autoconfig\": true, \"provisioning\": true, \"dnsServers\": [ \"192.168.0.30\", \"192.168.0.31\", \"FC00:2::30\", \"FC00:2::31\" ], \"winsServers\": [ \"192.168.0.34\" ], \"dnsSearch\": [ \"test.domain.com\", \"domain.com\" ], \"staticNetworks\": [], \"vlanid\": 2, \"ipv4gateway\": \"192.168.0.1\", \"ipv6gateway\": \"FC00:2::1\" }, { \"macAddress\": \"C8:CB:B8:D0:B6:C7\", \"enabled\": true, \"dhcpv4\": true, \"ipv6Autoconfig\": null, \"provisioning\": false, \"dnsServers\": null, \"winsServers\": null, \"dnsSearch\": null, \"staticNetworks\": [], \"vlanid\": 2, \"ipv4gateway\": null, \"ipv6gateway\": null } ], \"virtualInterfaces\": [] } }",
        "InterfaceJSON": "{ \"macAddress\": \"C8:CB:B8:D0:B6:C6\", \"enabled\": true, \"dhcpv4\": true, \"ipv6Autoconfig\": true, \"provisioning\": true, \"dnsServers\": [ \"192.168.0.30\", \"192.168.0.31\", \"FC00:2::30\", \"FC00:2::31\" ], \"winsServers\": [ \"192.168.0.34\" ], \"dnsSearch\": [ \"test.domain.com\", \"domain.com\" ], \"staticNetworks\": [], \"vlanid\": 2, \"ipv4gateway\": \"192.168.0.1\", \"ipv6gateway\": \"FC00:2::1\" }",
        "NetConfigJSON": "{  \"hostname\": \"hosttest\",  \"workgroup\": \"default\",  \"domain\": \"hpe.com\",  \"interfaces\": [    {      \"winsServers\": [        \"9.9.9.9\",        \"9.9.9.7\"      ],      \"dnsServers\": [        \"8.8.8.8\",        \"8.8.8.9\"      ],      \"macAddress\": \"AA:43:83:10:00:BA\",      \"dnsSearch\": [        \"sub.hpe.com\"      ],      \"enabled\": true,      \"dhcpv4\": true,      \"ipv6Autoconfig\": false    },    {      \"ipv4gateway\": \"172.0.0.1\",      \"winsServers\": [        \"9.9.9.9\",        \"9.9.9.7\"      ],      \"dnsServers\": [        \"8.8.8.8\",        \"8.8.8.9\"      ],      \"macAddress\": \"AA:43:83:10:00:BB\",      \"dnsSearch\": [        \"sub.hpe.com\"      ],      \"staticNetworks\": [        \"172.0.0.2/255.255.255.0\",        \"172.0.0.3/255.255.255.0\"      ],      \"enabled\": true,      \"dhcpv4\": false,      \"ipv6Autoconfig\": false}]}"
      },
      "expects_data": {
        "ValueTest1" : "CN12345678",
        "ValueTestOld2" : "1412012497.24",
        "ValueTestNew2" : "999999",
        "ValueTest3" : "docker"
      }
    },
    {
      "name": "dev",
      "enabled": true,
      "test_data": {
        "HostName": "docker_machine_test01",
        "FreeICSPSerialNumber" : "VCG61SU03F",
        "FreeBladeSerialNumber" : "CN7518005M",
        "FreeMacAddr": "AA:43:83:10:01:6E",
        "FreeBladeName" : "02-CN751500Z9, bay 3",
        "FreeHostName": "ILOCN7518005M",
        "FreePublicConnection": "Prod_172",
        "IcspName" : "IC04-HOUEGSL-C7000-04-5",
        "IloIPAddress":  "16.85.0.102",
        "SAObjectID": "1340001",
        "TemplateProfile": "Dev Docker Host",
        "SerialNumber": "VCGM123023",
        "MacAddr": "AA:43:83:10:00:BB",
        "UsedBladeName": "02-CN751500Z9, bay 4",
        "ServerHardwareURI": "/rest/server-hardware/36343537-3338-4E43-3735-313830303548",
        "ServerProfileName": "Frame2, Bay 4 Gold",
        "HardwareTypeURI": "/rest/server-hardware-types/01B10F88-4BF6-4A02-9065-DC9468008573",
        "GroupURI": "/rest/enclosure-groups/e0ee00e0-38bc-47e3-a4fe-bf6d13ce4cd2",
        "OSBuildPlan":"RHEL71_DOCKER_1.8"
      },
      "expects_data": {
        "MACAddress": "AA:43:83:10:00:BA",
        "CurrentVersion": 200,
        "MinimumVersion": 1,
        "FakeData": "foo",
        "IcspName" : "IC04-HOUEGSL-C7000-04-4",
        "SerialNumber": "VCGM123023",
        "IloIPAddress":  "16.85.0.90"
      }
    },
    {
      "name": "test_network_set",
      "enabled": true,
      "test_data": {
        "Type": "network-set",
        "NetworkUris": [
          "/rest/ethernet-networks/ebd4ab9c-4618-4bd8-83fd-75a36705f261"
        ],
        "ConnectionTemplateUri": "/rest/connection-templates/d49da7c5-3a1e-44dd-9666-89f700ac58c1",
        "NativeNetworkUri": "/rest/ethernet-networks/ebd4ab9c-4618-4bd8-83fd-75a36705f261",
        "Description": null,
        "Name": "netset test",
        "State": "Active",
        "Status": "OK",
        "ETAG": "92044486-474b-4d6b-be39-0376f331e4e0",
        "Modified": "2016-05-31T20:52:06.221Z",
        "Created": "2016-05-31T20:52:06.220Z",
        "Category": "network-sets",
        "URI": "/rest/network-sets/93b128a2-d565-4d2e-8338-bf17c7a0c15d"
      }
    },
    {
      "name": "test_logical_switch_group",
      "enabled": true,
      "test_data": {
        "Category": "logical-switch-groups",
        "Name":     "test logical switch group",
        "Type": "logical-switch-group",
        "SwitchMapTemplate": {
          "SwitchMapEntryTemplates" : [
            {
              "LogicalLocation": {
                "LocationEntries": [
                  {
                    "RelativeValue": 1,
                    "Type": "StackingMemberId"
                  }
                ]
              },
              "PermittedSwitchTypeUri": "/rest/switch-types/a2bc8f42-8bb8-4560-b80f-6c3c0e0d66e0"
            }
          ]
        }
      }
    },
    {
      "name": "test_ethernet_network",
      "enabled": true,
      "test_data": {
        "Type": "ethernet-networkV3",
        "VlanId": 7,
        "EthernetNetworkType": "Tagged",
        "SmartLink": false,
        "ConnectionTemplateUri": "/rest/connection-templates/14b671d8-898e-49ab-bfd8-c13b8b3306f8",
        "Purpose": "General",
        "FabricUri": "/rest/fabrics/c1c5f38d-1038-4534-a62a-5617165ee244",
        "PrivateNetwork": false,
        "Description": null,
        "Name": "Test Ethernet Network 1",
        "State": "Active",
        "Status": "OK",
        "ETAG": "57d60dc9-a346-4ce1-a7c9-37cf66fddb4e",
        "Modified": "2016-04-04T21:04:24.209Z",
        "Created": "2016-04-04T21:04:24.207Z",
        "Category": "ethernet-networks",
        "URI": "/rest/ethernet-networks/f1e38895-721b-4204-8395-ae0caba5e163"
      }
    },
    {
      "name": "test_fcoe_network",
      "enabled": true,
      "test_data": {
        "Type": "fcoe-network",
        "VlanId": 2,
        "ConnectionTemplateUri": "/rest/connection-templates/264fb17b-b4a7-49d2-9ac7-f67f5f21c3de",
        "ManagedSanUri": null,
        "FabricUri": "/rest/fabrics/c1c5f38d-1038-4534-a62a-5617165ee244",
        "Description": null,
        "Name": "test-fcoe-network 1",
        "State": "Active",
        "Status": "OK",
        "ETAG": "f5b6e363-03e4-45d7-a90b-c617b8fe261c",
        "Modified": "2016-05-20T19:30:27.327Z",
        "Created": "2016-05-20T19:30:27.324Z",
        "Category": "fcoe-networks",
        "Uri": "/rest/fcoe-networks/5b0c7eca-e9bc-4cea-99ab-c03b4414c9cc"
      }
    },
    {
      "Name": "test_fc_network",
      "Enabled": true,
      "Test_data": {
      "Type": "fc-networkV2",
      "FabricType": "FabricAttach",
      "ConnectionTemplateUri": "/rest/connection-templates/21f7011e-409a-40f5-b717-e04914abf60b",
      "ManagedSanUri": null,
      "LinkStabilityTime": 30,
      "AutoLoginRedistribution": true,
      "Description": null,
      "Name": "FC Network 1",
      "State": "Active",
      "Status": "OK",
      "ETAG": "d063ee03-3e47-4e85-b6df-fe54cad4ab86",
      "Modified": "2016-04-04T21:04:27.711Z",
      "Created": "2016-04-04T21:04:27.703Z",
      "Category": "fc-networks",
      "URI": "/rest/fc-networks/72dc37d9-320e-42c5-8417-8e899cd735dd"
      }
    },
    {
      "Name": "test_switch_type",
      "Enabled": true,
      "Test_data": {
        "Name": "Cisco Nexus 50xx",
        "URI": "/rest/switch-types/a2bc8f42-8bb8-4560-b80f-6c3c0e0d66e0"
      }
    },
    {
      "Name": "test_interconnect_type",
      "Enabled": true,
      "Test_data": {
        "Name": "HP VC FlexFabric-20/40 F8 Module",
        "URI": "/rest/interconnect-types/e9e79d17-6a81-4365-8b6f-619bb5b81476"
      }
    },
    {
      "Name": "test_logical_interconnect_group",
      "Enabled": true,
      "Test_data": {
        "Name": "go LIG test",
        "Type": "logical-interconnect-groupV3",
        "EnclosureType": "C7000"
      }
    },
    {
      "name": "dev_icsp",
      "enabled": true,
      "test_data": {
        "HostName": "docker_machine_test01"
      },
      "expects_data": {
        "CurrentVersion": 108,
        "MinimumVersion": 1,
        "FakeData": "foo"
      }
    }
  ]
}
